<!DOCTYPE html>
<html lang='zh'>
    <head>
        <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">
<title>
  
     Bistu后台管理项目 |  Sweet House
  
</title>


  <meta name="description" content="Everyday is a holiday">


<meta name="bytedance-verification-code" content="MmXZwSvr8lAvM1hIXSkm" />

<meta name="author" content='[Ryuchen WangOO]'>

<link rel="icon" href='/favicon.ico'>


  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.22.0/themes/prism-dark.min.css">
  



  
      
        <link rel="stylesheet" href='/dist/main.4707e15c5ca4eab5da71.min.css'>
      
  


<link rel="stylesheet" href='/css/shortcodes.css'>

<link rel="canonical" href="https://ryuchen.club/posts/0x000007/"><meta property="og:title" content="Bistu后台管理项目" />
<meta property="og:description" content="这个项目起始是因为学校之前的老师找到我，说让我帮忙弄个进行管理基本管理数据的小工具，听起来也并不是很难（然而，后期我一直在搞这个，深陷其中不可自拔），于是痛快的答应下来，后续就一直在弄这个小平台了~" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ryuchen.club/posts/0x000007/" />
<meta property="og:image" content="https://ryuchen.club/admin_login.png" />
<meta property="article:published_time" content="2019-08-02T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-08-02T00:00:00+00:00" /><meta property="og:see_also" content="https://ryuchen.club/posts/0x000015/" /><meta property="og:see_also" content="https://ryuchen.club/posts/0x000014/" /><meta property="og:see_also" content="https://ryuchen.club/posts/0x000013/" /><meta property="og:see_also" content="https://ryuchen.club/posts/0x000011/" /><meta property="og:see_also" content="https://ryuchen.club/posts/0x000012/" /><meta property="og:see_also" content="https://ryuchen.club/posts/0x000010/" />

<meta itemprop="name" content="Bistu后台管理项目">
<meta itemprop="description" content="这个项目起始是因为学校之前的老师找到我，说让我帮忙弄个进行管理基本管理数据的小工具，听起来也并不是很难（然而，后期我一直在搞这个，深陷其中不可自拔），于是痛快的答应下来，后续就一直在弄这个小平台了~">
<meta itemprop="datePublished" content="2019-08-02T00:00:00+00:00" />
<meta itemprop="dateModified" content="2019-08-02T00:00:00+00:00" />
<meta itemprop="wordCount" content="244">
<meta itemprop="image" content="https://ryuchen.club/admin_login.png">



<meta itemprop="keywords" content="django,simpleui," />

    </head>
    <body>
        
<nav class="navbar navbar-expand-md navbar-light bg-light fixed-top shadow-sm" id="navbar-main-menu">
    <div class="container">
        <a class="navbar-brand font-weight-bold" href="https://ryuchen.club"> >$ cd /home_</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-menu" aria-controls="main-menu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="main-menu">
            <ul class="navbar-nav ml-auto">
                    
                        <li class='nav-item'><a class="nav-link" href="/">首页</a></li>
                    
                        <li class='nav-item'><a class="nav-link" href="/posts/">博文</a></li>
                    
                        <li class='nav-item'><a class="nav-link" href="/projects/">项目</a></li>
                    
                        <li class='nav-item'><a class="nav-link" href="/snippet/">代码</a></li>
                    
                        <li class='nav-item'><a class="nav-link" href="/essay/">随笔</a></li>
                    
                        <li class='nav-item'><a class="nav-link" href="/gallery/">照片墙</a></li>
                    
                        <li class='nav-item'><a class="nav-link" href="/about/">关于</a></li>
                    
                
                <li class="nav-item"><a class="nav-link" href="https://github.com/Ryuchen" target="_blank">Github</a></li>
            </ul>
        </div>
    </div>
</nav>

        
<main class="content-page container pt-7 pb-5">
    
    <div class="row">
        <div class="col">
            <article>
                <div class="row justify-content-center">
                    <div class="col-lg-10">
                        <h1>Bistu后台管理项目</h1>
                        <div class="meta text-muted mb-3" style="text-align: right;">
                            
                            <p class="created text-muted text-uppercase font-weight-bold mb-1">August 2, 2019</p>
                            <span class="mr-2"><i class="fas fa-book-open mr-2"></i>1992</span>
                            <span><i class="fas fa-clock mr-2"></i>9 minutes and
                                3 seconds</span>
                        </div>
                        <div class="category my-3"><a class="badge badge-pill badge-light border mr-2" href="/categories/%E5%85%A8%E6%A0%88%E7%B3%BB%E5%88%97">
                                    <i class="fas fa-tag mr-2"></i>全栈系列
                                </a></div></div>
                </div><div class="row justify-content-center mb-3">
                                <div class="col-lg-10">
                                    <img data-src="/images/admin_login_hu7ac198088c78ebaf76798ae64a7967a0_16225_900x500_fit_box_2.png" class="img-fluid rounded mx-auto d-block" alt="Bistu后台管理项目">
                                </div>
                            </div><div class="row justify-content-center">
                    <div class="col-lg-10">
                        <div class="content">
                            <h1 id="项目说明">项目说明</h1>
<p>这个项目起始是因为学校之前的老师找到我，说让我帮忙弄个进行管理基本管理数据的小工具，听起来也并不是很难（然而，后期我一直在搞这个，深陷其中不可自拔），于是痛快的答应下来，后续就一直在弄这个小平台了~</p>
<p>鉴于项目本身的体量来说，功能并不多，只是展示个数据，进行统计使用而已，所以自己便想到如何扩展学习的角度，去实现这个项目。正好当时公司的前端使用的是 ant-design 的 react 框架，由于自己之前只是写过 jquery 的前端项目，而且已经荒废好久了，于是可以配合该项目，顺手学下 react 该怎么写，正好后续自己想维护的社区，Panda（钟馗）沙箱项目也打算使用时下流行的前端框架重新构建恶意文件的展示。</p>
<h1 id="问题来了">问题来了</h1>
<p>最开始项目的结构是 django 的 admin 实现中后台的管理功能，然后数据展示用 ant-design 的 react 框架实现，至于接口嘛，使用 django-rest-framework 就行。一切的一切看起来是十分的顺畅，并且看起来实现并不是很难，但实际上问题就这么开始了~</p>
<p>No.1 问题 django 的 admin 作为中后台管理实在是太丑了，该如何优化呢，于是想改变一下外观，毕竟之前做过 django 的项目，我自己也知道 django 的 admin 是有许多人复写过 theme 的，于是上网找啊~ 发现国人大部分都在推荐 xadmin 但是项目在 github 上已经很久不进行维护了，但是毕竟参考资料比较多，不然安装下试试？这里就遇到问题了，安装不了，太多太多问题卡住了，一天下来还是没有正确安装上，so 放弃了，毕竟即使安装上了，后续也需要太多修改的地方了，所以继续找呗！不过后续找到了一个 django-suit 的框架暂且顶上，v2 版本配合使用，效果看起来也没有什么问题，很 nice，所以就使用了这个 theme 暂时用着了~</p>
<p>No.2 django-rest-framework 编写接口的工作量，因为在写着这个项目的时候，同时还在公司上班，所以时间并不是很多，一两个小时，也没法好好写一写代码，于是找了公司一个同事进行帮忙，两个人一起搞定，两个人拆分工作，一个人设计和实现 models 另一个人 写 serializers 一起写 apiview， 果然后续进展的速度都还算不错，基本进度满足了</p>
<p>No.3 react 看似入门不难，但是写起来真的不是很友好。最开始打算前台展示用 react 去实现的，但是写了几天发现进度还是很慢，虽然基本的数据展示没什么问题了，查询筛选都挺好使，配合 django-rest-framework 也没有什么问题，但是还是觉得并没有对 react 入门，整个过程深刻体会到前端的编写是如此的复杂，并且每个地方基本都要进行 google，最重要的是作为一个写 python 后端的人来说，没法理解前台编写思维，深刻体会到这个思路不是一个小项目能够解决的，并且不是短期就行写好的，所以果断需要后续别的项目进行加强~ 后来看了一下，发现还是 angular 的思路比较符合我这种，于是果断开了一个新的项目，还在进行中，正好准备配套 ng-alain 的使用，后续会介绍 ng-alain 的使用</p>
<h1 id="初识-django-simpleui">初识 django-simpleui</h1>
<p>中间经过几次需求的追加和版本的更改，感觉整体进度还是不如自己想象中的快，毕竟虽说是项目比较小，但是再少的需求，也架不住中间反复的改吧，而且用的都还是自己不熟悉的东西，所以后期就果断放弃了还配合一个前端展示的项目。</p>
<p>直接上 django admin 使用吧，这个使用突然就发现 suit 的 v2 版本不能够满足自己的使用了。这个时候正好看到了一篇 django-simpleui 的推荐文章，于是尝试了一下，效果果然不错，整个写起来速度也快了不少，看起来也不错~</p>
<p>but！！！当我把这个项目给媳妇进行看的时候，媳妇说了句：“太像大学生毕设了，还是缺个设计~”。就是因为这句话，一下点醒了我，我自己本来看起来不觉得有什么问题，但是听完了这句话之后，不管怎么看都觉得像是毕设~~~😂😂😂 于是把 django-simpleui 的代码拉下来改改吧，看了一下正好这个项目是 vue 的框架编写的，所以正好，趁这个改源码的机会，也顺手把 vue 学一下。</p>
<p>不过不得不说，这个 vue 是真的好入门，太像之前的 jquery 写法了，深得我心，整体也没有大动，基本就是样式改改，增加一些我需要的东西，也就没什么变化了，不过看起来已经不太像是毕设了~</p>
<h1 id="项目总结">项目总结</h1>
<p>这里其实有三个总结点：
No.1 django 本身的 template 代码中的 include 正好可以配合 vue 的 component 的实现~ 效果相当不错，不过要记住使用在外围使用声明好 vue 的实例。</p>
<pre><code>{% include &quot;admin/component/chart/dashboard/line.html&quot; %}
&lt;display-line-chart source=&quot;{% url 'student-enroll-trending' %}&quot;&gt;&lt;/display-line-chart&gt;
</code></pre><p>No.2 因为 django 的模板渲染引擎和前端框架的渲染引擎中会有重复的 tag，所以需要将使用 django 的引擎屏蔽掉，这样可以直接使用前端框架的引擎做渲染，如果需要使用 django 的模板数据，可以配合 templatetag 进行处理一下，或者使用 框架的组件传值机制，将 django 的数据传入</p>
<pre><code>{% verbatim code %}
    &lt;!--需要被 django 引擎忽略的代码--&gt;
{% endverbatim code %}
</code></pre><p>No.3 Ant V 的 G2 图表的使用，之前一直在用的就是盛行的 echarts 作为数据的图表展示，但是 v3 版本的主题看起来不是很好看，而且，说实话感觉 customize 起来不如 G2 来的方便~ 目前看起来 G2 的图表使用起来效果很不错！</p>
<h1 id="项目地址">项目地址</h1>
<!-- raw HTML omitted -->
<h3 id="-安装说明">📖 安装说明:</h3>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># 安装依赖</span>
   <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>

<span class="c1"># 生成数据库</span>
   <span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="n">db</span><span class="o">.</span><span class="n">sqlite3</span>
   <span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">makemigrations</span> <span class="o">&amp;&amp;</span> <span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">migrate</span> <span class="o">&amp;&amp;</span> <span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">migrate</span> <span class="o">--</span><span class="n">run</span><span class="o">-</span><span class="n">syncdb</span>
   
<span class="c1"># 生成假数据</span>
   <span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">fake_data</span>
   
<span class="c1"># 运行 demo</span>
   <span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">runserver</span> <span class="mi">0</span><span class="p">:</span><span class="mi">9377</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># 构建 docker</span>
  docker build -t Ryuchen/bistu:latest --rm<span class="o">=</span><span class="nb">true</span>

<span class="c1"># 启动 docker</span>
  docker run -p 9377:8080 --name bistu Ryuchen/bistu:latest
</code></pre></div><blockquote>
<p>查看 demo 地址: <a href="http://127.0.0.1:9377">http://127.0.0.1:9377</a>
账户信息: admin&amp;ant.design(账户&amp;密码)</p>
</blockquote>
<blockquote>
<p>查看 demo 地址: <a href="http://39.106.85.217:8009/">http://39.106.85.217:8009/</a>
账户信息: admin&amp;ant.design(账户&amp;密码)</p>
</blockquote>
<h3 id="-界面展示">📷 界面展示:</h3>
<h4 id="登录页">登录页</h4>
<p><img src="https://github.com/Ryuchen/Bistu/raw/develop/images/login.png" alt=""></p>
<h4 id="工作台">工作台</h4>
<p><img src="https://github.com/Ryuchen/Bistu/raw/develop/images/dashboard.png" alt=""></p>
<h4 id="内容页">内容页</h4>
<p><img src="https://github.com/Ryuchen/Bistu/raw/develop/images/list.png" alt=""></p>

                        </div><div class="tags my-3"><a class="badge badge-pill badge-light border mr-2" href="/tags/django/">
                                    <i class="fas fa-tag mr-2"></i>django
                                </a><a class="badge badge-pill badge-light border mr-2" href="/tags/simpleui/">
                                    <i class="fas fa-tag mr-2"></i>simpleui
                                </a></div><div style="text-align: center;">
                            <div class="social-share" data-sites="wechat,weibo,twitter,facebook,douban" data-mobile-sites="wechat,weibo"></div>
                        </div>
                    </div>
                </div>

                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        

<div id="comments-gittalk"></div>
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script> 
    <script>
    var gittalk = new Gitalk({
        id: '0x000007',
        owner: 'Ryuchen',
        repo: 'ryuchen.github.io',
        admin: ['Ryuchen'],
        clientID: 'cda75f43f62ef6ebc3ea',
        clientSecret: 'e405fb603c664a6436a481917a7ee70931413268',
    })
    gittalk.render('comments-gittalk')
    </script>



                    </div>
                </div>
            </article>
        </div>
    </div>

    <div class="related-content row mt-5 row-cols-1 row-cols-lg-3"><div class="col mb-3">
                <div class="card h-100 shadow">
    
    <a href="/posts/0x000006/" class="d-block">
                        <img data-src="https://cdn.jsdelivr.net/gh/Ryuchen/ryuchen.github.io@master/images/JWT_hud8dcf04dcc67e8aaa6fd17c95450ee0d_42274_700x350_resize_box_2.png" class="card-img-top mx-auto d-block" alt="JWT认证系统尝鲜">
                    <div class="card-body">
            <div class="card-title">
                JWT认证系统尝鲜
            </div><div class="card-serie"><span class="badge badge-pill badge-primary">全栈系列</span> &nbsp;</div><p class="card-text text-muted text-uppercase">August 1, 2019</p>
            <div class="card-text">
                最近在&amp;rsquo;正式退休&amp;rsquo;之后，并不能完全闲着啊，所以想起来之前给学校的老师做的一个项目，并没有完全做完，于是想正好借助这个机会，先把 angluar 学习起来，然后顺便再把之前一些感兴趣的并没有在工作中正式使用的一些技术栈给用上~
            </div>
        </div>
    </a>
</div>

            </div><div class="col mb-3">
                <div class="card h-100 shadow">
    
    <a href="/posts/0x000003/" class="d-block">
                        <img data-src="https://cdn.jsdelivr.net/gh/Ryuchen/ryuchen.github.io@master/images/django-middleware_hu30d1361442ea7531add7805411959c47_325751_700x350_resize_q75_box.jpeg" class="card-img-top mx-auto d-block" alt="Django中间件的理解">
                    <div class="card-body">
            <div class="card-title">
                Django中间件的理解
            </div><div class="card-serie"><span class="badge badge-pill badge-primary">生活感悟</span> &nbsp;<span class="badge badge-pill badge-primary">全栈系列</span> &nbsp;</div><p class="card-text text-muted text-uppercase">July 6, 2019</p>
            <div class="card-text">
                这篇文章的主要目的是帮助自己总结下过去使用 django 中间件中发生的问题的时候，需要进行注意的地方，那是在一次审查 django 在接收前端请求过程中过慢的问题，后续发现是中间件中频繁对文本资源进行读取，而且还通过递归的方式进行了文件的遍历，造成效率的低下，于是总结了一下经验。
            </div>
        </div>
    </a>
</div>

            </div><div class="col mb-3">
                <div class="card h-100 shadow">
    
    <a href="/posts/0x000002/" class="d-block">
                        <img data-src="https://cdn.jsdelivr.net/gh/Ryuchen/ryuchen.github.io@master/images/markdown-syntax_hu82f81192e936314d551c0b466c7e7bbb_24890_700x350_resize_q75_box.jpg" class="card-img-top mx-auto d-block" alt="企业前端开发隔离方案">
                    <div class="card-body">
            <div class="card-title">
                企业前端开发隔离方案
            </div><div class="card-serie"><span class="badge badge-pill badge-primary">生活感悟</span> &nbsp;<span class="badge badge-pill badge-primary">开发环境</span> &nbsp;<span class="badge badge-pill badge-primary">全栈系列</span> &nbsp;</div><p class="card-text text-muted text-uppercase">June 29, 2019</p>
            <div class="card-text">
                之前的工作环境中，由于系统的整体性过于强，尤其是对于面向企业级客户的单机项目中，解耦合程度不高的情况下，我们无法让多位开发人员共享一台开发环境，导致最终造成开发效率低下和开发成本过高，对于这个问题我也思考了很久，后来整理了一些自己的看法和方式，形成了下面的文章，算是面向以前的经验和教训
            </div>
        </div>
    </a>
</div>

            </div></div>
</main>

        <footer class="footer bg-dark py-6">
    <div class="container">
        <div class="row">
            <div class="col-sm text-center">
                <ul class="list-inline">
                    <li class="list-inline-item"><a href="https://ryuchen.club/index.xml" rel="alternate" type="application/rss+xml" class="icons d-block">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a></li><li class="list-inline-item">
                        <a href="mailto:chenhaom1993@hotmail.com" class="icons d-block">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li><li class="list-inline-item">
                            <a href="https://github.com/Ryuchen" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://weibo.com/u/3147247770" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-weibo fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                </ul>

                <p class="text-muted">
                    
                        Copyright © 2018–2020, WangOO and Ryuchen, all rights reserved.
                    
                </p>

                <p class="text-muted">
                    京ICP备2020040667号
                </p>

                <p class="text-muted">
                    本站总记被访问 <span id="busuanzi_value_site_pv"></span> 次， 
                    您是第 <span id="busuanzi_value_site_uv"></span> 个来访小伙伴。
                </p>
            </div>
            <div class="col-sm text-center"><p class="text-muted">维护不易，渴望您的资助</p><ul class="list-inline">
                    <div class="row">
                        <div class="col-sm text-center"><li class="list-inline-item">
                                <img src="https://cdn.jsdelivr.net/gh/Ryuchen/ImageBed@sponsor/wechat.jpg" alt="WechatPay" class="loaded" data-was-processed="true" style="width: 140px;padding: 4px">
                            </li></div>
                        <div class="col-sm text-center"><li class="list-inline-item">
                                <img src="https://cdn.jsdelivr.net/gh/Ryuchen/ImageBed@sponsor/alipay.jpg" alt="AliPay" class="loaded" data-was-processed="true" style="width: 140px;padding: 4px">
                            </li></div>
                    </div>
                </ul>
            </div>
        </div>
    </div>
    <div class="netease-music">
            <audio id="music-player" crossorigin playsinline>
            </audio>
        </div>
    
</footer>

        
    
        
            <script src='/dist/main.bf9558b8596b4accd07a.min.js'></script>
        
    



<script src='https://cdn.jsdelivr.net/gh/Ryuchen/ryuchen.github.io@master//mermaid/mermaid.js'></script>



    <script>
        window.Prism = window.Prism || {};
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.22.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.22.0/plugins/autoloader/prism-autoloader.min.js"></script>





<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https'){
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else{
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>


<script>
    (function(){
    var el = document.createElement("script");
    el.src = "https://s3a.pstatp.com/toutiao/push.js?1b349c44e658214c68be3a649c8dd67d03df3ccff5cf4d26c95620535e04d891417631efa03c64873bef9496a5c9bb7c62f7c4af6b1a55b161baff8a0b4e2fba";
    el.id = "ttzz";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(el, s);
    })(window)
</script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css"  crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js" integrity="sha256-fGPu+icKh985TLPhO2v68U7i0CW0dE4kiR06RN4O6jo=" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-0EFH27TG1R"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-0EFH27TG1R');
</script>
    </body>
</html>
